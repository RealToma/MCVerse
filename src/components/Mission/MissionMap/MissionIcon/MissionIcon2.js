import React, { useState, useCallback, useEffect } from 'react'

import { TargetIcon } from 'components/Icons'

const MissionIcon2 = ({ handleClick, isShowDetail }) => {
  const [isClicked, setIsClicked] = useState(false)

  const handleClickIcon = useCallback(() => {
    setIsClicked(true)
    handleClick()
  }, [handleClick])

  useEffect(() => {
    if (!isShowDetail) setIsClicked(false)
  }, [isShowDetail])

  return (
    <div className="absolute z-10 top-[60%] left-[48%]">
      {isClicked ? (
        <div className="w-12 h-12 bg-[rgb(66,236,124)] border-2 border-white rounded-full flex items-center justify-center p-0.5 relative">
          <TargetIcon color={`#1C2653`} width={`36`} height={`36`} />
          <div className="w-[60px] h-[60px] bg-[rgba(66,136,124,0.3)] rounded-full absolute -z-20"></div>
          <div className="w-[72px] h-[72px] bg-[rgba(66,136,124,0.3)] rounded-full absolute -z-10"></div>
        </div>
      ) : (
        <div
          className="w-6 h-6 bg-[rgb(66,236,124)] rounded-md flex items-center justify-center p-0.5 relative group cursor-pointer"
          onClick={handleClickIcon}
        >
          <TargetIcon color={`#1C2653`} />
          <div className="w-5 h-5 bg-[#00C2FF] border border-black rounded-full flex items-center justify-center text-black text-sm font-bold absolute -top-3 -right-3 group-hover:hidden">
            4
          </div>
          <div className="w-5 h-5 bg-[#FFC33E] border border-black rounded-full flex items-center justify-center text-black text-sm font-bold absolute -bottom-3 -right-3 group-hover:hidden">
            4
          </div>
          <div className="w-8 h-8 bg-[rgba(66,136,124,0.3)] rounded-md absolute group-hover:block hidden -z-20"></div>
          <div className="w-10 h-10 bg-[rgba(66,136,124,0.3)] rounded-md absolute group-hover:block hidden -z-10"></div>
          <div className="absolute top-0 hidden left-9 group-hover:block">
            <div className="bg-black bg-opacity-90 border border-[#42EC7C] rounded-md border-l-[10px] p-2 w-36 relative">
              <div className="w-5 h-5 bg-black border border-[#00C2FF] rounded-full flex items-center justify-center text-[#00C2FF] text-sm font-bold absolute top-1/2 -right-2.5">
                4
              </div>
              <div className="w-5 h-5 bg-black border border-[#FFC33E] rounded-full flex items-center justify-center text-[#FFC33E] text-sm font-bold absolute top-3/4 -right-2.5">
                4
              </div>
              <div className="text-[#42EC7C] font-bold text-[10px] uppercase">GRANTSVILLE DOWNS ADRENALINE RUSH</div>
              <div className="mt-2 uppercase text-[10px] flex flex-col gap-2">
                <div className="flex items-center gap-1">
                  <svg width="12" height="12" viewBox="0 0 12 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M6.35706 2.14342C7.25732 2.22417 8.09301 2.61334 8.73975 3.26025C9.38649 3.90716 9.77583 4.74286 9.85658 5.64294H12C11.9606 4.95662 11.8061 4.29018 11.5383 3.65716C11.2359 2.94199 10.8029 2.29982 10.2516 1.74844C9.70018 1.19706 9.05801 0.764086 8.34284 0.461654C7.71 0.19388 7.04338 0.0394094 6.35706 0V2.14342Z"
                      fill="#42EC7C"
                    />
                    <path
                      d="M9.85658 6.34668C9.77583 7.24694 9.38666 8.08263 8.73975 8.72937C8.00927 9.45985 7.0381 9.86204 6.00519 9.86204C4.97228 9.86204 4.00094 9.45967 3.27063 8.72937C2.54015 7.99889 2.13796 7.02772 2.13796 5.99481C2.13796 4.9619 2.54033 3.99056 3.27063 3.26025C3.91754 2.61334 4.75324 2.22417 5.65332 2.14342V0C4.967 0.0394094 4.30056 0.19388 3.66754 0.461654C2.95237 0.764086 2.3102 1.19706 1.75882 1.74844C1.20744 2.29982 0.774466 2.94199 0.472034 3.65716C0.158869 4.39767 0 5.18428 0 5.99481C0 6.80534 0.158869 7.59177 0.472034 8.33246C0.774466 9.04763 1.20744 9.6898 1.75882 10.2412C2.3102 10.7926 2.95237 11.2255 3.66754 11.528C4.40805 11.8411 5.19466 12 6.00519 12C6.81572 12 7.60215 11.8411 8.34284 11.528C9.05801 11.2255 9.70018 10.7926 10.2516 10.2412C10.8029 9.6898 11.2359 9.04763 11.5383 8.33246C11.8061 7.69962 11.9606 7.033 12 6.34668H9.85658Z"
                      fill="#42EC7C"
                    />
                    <path
                      d="M6.00519 2.83115C4.26079 2.83115 2.84153 4.25041 2.84153 5.99481C2.84153 7.73921 4.26079 9.15847 6.00519 9.15847C7.74959 9.15847 9.16885 7.73921 9.16885 5.99481C9.16885 4.25041 7.74959 2.83115 6.00519 2.83115ZM7.13645 7.06801C7.04321 7.21439 6.91161 7.32312 6.74113 7.39437C6.63029 7.44064 6.5015 7.47161 6.3553 7.48779V7.64965C6.3553 7.84406 6.19784 8.00152 6.00343 8.00152C5.80902 8.00152 5.65156 7.84406 5.65156 7.64965V7.44751C5.49304 7.40511 5.35968 7.33755 5.25201 7.24465C5.13466 7.14349 5.04529 7.01488 4.98389 6.85883C4.91351 6.6799 5.03614 6.48356 5.22756 6.46491C5.35581 6.45242 5.47967 6.52367 5.52823 6.64313C5.56623 6.73673 5.61761 6.81115 5.68235 6.86639C5.78809 6.95682 5.93095 7.00221 6.11058 7.00221C6.30094 7.00221 6.44432 6.96192 6.54074 6.88135C6.63715 6.80077 6.68553 6.70664 6.68553 6.59897C6.68553 6.52983 6.6653 6.47089 6.62466 6.42233C6.58402 6.37377 6.51311 6.33155 6.41213 6.29548C6.34299 6.27156 6.18517 6.22898 5.93904 6.16775C5.62236 6.08929 5.40015 5.9927 5.27224 5.87834C5.09262 5.71736 5.00271 5.52102 5.00271 5.28949C5.00271 5.14047 5.04494 5.00095 5.12956 4.87129C5.21401 4.74145 5.33576 4.64275 5.4948 4.57484C5.54389 4.5539 5.59649 4.53648 5.65191 4.52206V4.37832C5.65191 4.18391 5.80937 4.02645 6.00378 4.02645C6.19819 4.02645 6.35565 4.18391 6.35565 4.37832V4.49197C6.58437 4.52434 6.76611 4.59841 6.90017 4.71471C6.97917 4.78332 7.04215 4.86161 7.0893 4.94958C7.18958 5.1373 7.05658 5.36549 6.84387 5.37481L6.82628 5.37552C6.70928 5.38062 6.59897 5.31588 6.55059 5.20926C6.52226 5.14698 6.48514 5.09754 6.43905 5.06095C6.35583 4.99515 6.23109 4.96207 6.06483 4.96207C5.89857 4.96207 5.7587 4.99743 5.66159 5.06781C5.59896 5.11302 5.56782 5.17355 5.56782 5.24955C5.56782 5.31869 5.59702 5.37798 5.65561 5.42724C5.7302 5.48988 5.91107 5.55497 6.19854 5.62288C6.48602 5.69079 6.69855 5.76099 6.83631 5.83348C6.97406 5.90596 7.08191 6.00519 7.15968 6.13098C7.23744 6.25678 7.2765 6.41213 7.2765 6.59704C7.2765 6.7647 7.22987 6.92181 7.1368 7.06819L7.13645 7.06801Z"
                      fill="#42EC7C"
                    />
                  </svg>
                  <div>250 mcv</div>
                </div>
                <div className="flex items-center gap-1">
                  <svg width="12" height="14" viewBox="0 0 12 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M1.34036 9.00128L0.042609 11.649C-0.0198394 11.7761 -0.0131389 11.9273 0.0600302 12.0482C0.133467 12.1691 0.262652 12.2426 0.402022 12.2426H2.35427L3.52551 13.8359C3.60163 13.9398 3.72117 14 3.84687 14C4.01384 14 4.14544 13.8983 4.20655 13.7733L5.42952 11.2779C3.77611 11.1166 2.31836 10.2613 1.34036 9.00128Z"
                      fill="#42EC7C"
                    />
                    <path
                      d="M11.9576 11.649L10.6599 9.00128C9.6819 10.2613 8.22415 11.1166 6.57074 11.2779L7.79371 13.7733C7.85482 13.8983 7.98641 14 8.15339 14C8.27909 14 8.39863 13.9398 8.47474 13.8359L9.64599 12.2426H11.5982C11.7376 12.2426 11.8668 12.1691 11.9402 12.0482C12.0134 11.9273 12.0201 11.7761 11.9576 11.649Z"
                      fill="#42EC7C"
                    />
                    <path
                      d="M6.67285 4.037L5.99985 2.94025L5.32713 4.037C5.27191 4.12697 5.18481 4.1915 5.08403 4.2172L3.8541 4.53111L4.66834 5.52286C4.73507 5.60407 4.76831 5.7088 4.76107 5.81462L4.67343 7.10525L5.84949 6.62154C5.90551 6.59857 6.01969 6.56794 6.14994 6.62154L7.32601 7.10525L7.23837 5.81462C7.23113 5.7088 7.26463 5.60407 7.33137 5.52286L8.14561 4.53111L6.91567 4.2172C6.8149 4.1915 6.72752 4.12697 6.67258 4.037H6.67285Z"
                      fill="#42EC7C"
                    />
                    <path
                      d="M11.1389 5.24262C11.1389 2.35184 8.83363 0 6.00013 0C3.16664 0 0.861145 2.35184 0.861145 5.24262C0.861145 8.1334 3.16637 10.4852 5.99987 10.4852C8.83336 10.4852 11.1386 8.1334 11.1386 5.24262H11.1389ZM9.17508 4.55574L8.05235 5.92293L8.17296 7.70219C8.18261 7.84328 8.12043 7.97918 8.0084 8.0623C7.89637 8.14543 7.7503 8.16375 7.62165 8.11098L6.00013 7.44406L4.37862 8.11098C4.3352 8.12875 4.16206 8.18836 3.99187 8.0623C3.87984 7.97918 3.81766 7.84301 3.82731 7.70219L3.94818 5.92293L2.82545 4.55574C2.73647 4.44746 2.70833 4.2998 2.75121 4.16555C2.7941 4.03129 2.90157 3.92875 3.03612 3.8943L4.73187 3.46145L5.65948 1.94961C5.73292 1.82984 5.86184 1.75711 6.00013 1.75711C6.13843 1.75711 6.26735 1.82984 6.34079 1.94961L7.2684 3.46145L8.96415 3.8943C9.0987 3.92848 9.20617 4.03102 9.24906 4.16555C9.29194 4.30008 9.2638 4.44719 9.17482 4.55574H9.17508Z"
                      fill="#42EC7C"
                    />
                  </svg>
                  <div>1,000 mcv</div>
                </div>
                <div className="flex items-center gap-1">
                  <svg width="12" height="11" viewBox="0 0 12 11" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M4.31514 3.06147C4.26867 2.97646 4.26867 2.87288 4.31514 2.78807L5.77494 0.126899C5.86769 -0.0422998 6.1322 -0.0422998 6.22475 0.126899L7.68475 2.78828C7.73122 2.87308 7.73122 2.97667 7.68475 3.06168C7.63828 3.14648 7.55259 3.19827 7.45985 3.19827H4.54004C4.4473 3.19827 4.36161 3.14628 4.31514 3.06168V3.06147ZM2.49298 6.92932H9.5073C9.60024 6.92932 9.68593 6.87732 9.7322 6.79272C9.77867 6.70792 9.77867 6.60413 9.7322 6.51932L8.45847 4.19758C8.412 4.11277 8.32632 4.06098 8.23357 4.06098H3.76749C3.67475 4.06098 3.58867 4.11298 3.54259 4.19758L2.26847 6.51932C2.222 6.60413 2.222 6.70792 2.26847 6.79272C2.31455 6.87712 2.40024 6.92932 2.49318 6.92932H2.49298ZM11.9653 10.59L10.5053 7.92904C10.4589 7.84423 10.3732 7.79244 10.2804 7.79244H1.71985C1.6271 7.79244 1.54122 7.84444 1.49494 7.92904L0.0349445 10.59C-0.0115261 10.6748 -0.0115261 10.7786 0.0349445 10.8634C0.0814151 10.9482 0.167101 11 0.259846 11H11.7402C11.833 11 11.9189 10.948 11.9651 10.8634C12.0112 10.7786 12.0116 10.6746 11.9651 10.59H11.9653Z"
                      fill="#42EC7C"
                    />
                  </svg>
                  <div>level 10</div>
                </div>
                <div className="flex items-center gap-1">
                  <svg width="9" height="12" viewBox="0 0 9 12" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M6.36115 4.75313C7.14462 4.02773 8.20385 3.04664 8.30054 0.703125H8.65385C8.84492 0.703125 9 0.545625 9 0.351562C9 0.1575 8.84492 0 8.65385 0H0.346154C0.155077 0 0 0.1575 0 0.351562C0 0.545625 0.155077 0.703125 0.346154 0.703125H0.699462C0.795923 3.04688 1.85538 4.02773 2.63885 4.75313C3.16431 5.23969 3.46154 5.53758 3.46154 6C3.46154 6.46242 3.16431 6.76031 2.63885 7.24688C1.85538 7.97227 0.796154 8.95336 0.699462 11.2969H0.346154C0.155077 11.2969 0 11.4544 0 11.6484C0 11.8425 0.155077 12 0.346154 12H8.65385C8.84492 12 9 11.8425 9 11.6484C9 11.4544 8.84492 11.2969 8.65385 11.2969H8.30054C8.20408 8.95312 7.14462 7.97227 6.36115 7.24688C5.83569 6.76031 5.53846 6.46242 5.53846 6C5.53846 5.53758 5.83569 5.23969 6.36115 4.75313ZM4.15385 8.26547C4.15385 8.47148 4.02877 8.65383 3.84138 8.73211C3.84046 8.73258 3.83931 8.73305 3.83838 8.73352L1.71808 9.62461C2.06423 8.73047 2.622 8.21391 3.10523 7.76625C3.64454 7.2668 4.15385 6.79523 4.15385 5.99977V8.26547ZM5.89477 7.76625C6.378 8.21367 6.93577 8.73047 7.28192 9.62438L5.16162 8.73328C5.16162 8.73328 5.15954 8.73234 5.15862 8.73187C4.971 8.65359 4.84615 8.47125 4.84615 8.26523V5.99953C4.84615 6.79477 5.35546 7.26656 5.89477 7.76602V7.76625ZM1.60662 2.04867C1.49331 1.66781 1.41646 1.22508 1.39269 0.703125H7.60754C7.58377 1.22531 7.50692 1.66781 7.39362 2.04867C7.34169 2.22352 7.18385 2.34375 7.00385 2.34375H1.99615C1.81638 2.34375 1.65854 2.22352 1.60638 2.04867H1.60662Z"
                      fill="#42EC7C"
                    />
                  </svg>
                  <div>12 hours</div>
                </div>
              </div>
            </div>
          </div>
        </div>
      )}
    </div>
  )
}

export default MissionIcon2
